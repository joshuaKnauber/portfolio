{"version":3,"sources":["components/LoadingScreen.js","assets/rocket/test.gltf","assets/rocket/stage-one-color.png","assets/rocket/stage-one-roughness.png","assets/rocket/stage-one-ao.png","assets/rocket/stage-one-normal.png","components/Rocket.js","assets/planes/emit.png","components/Plane.js","fonts/ClarityCity-SemiBold.woff","components/Scene.js","components/Header.js","components/Footer.js","components/StaticFooter.js","components/ResizeController.js","App.js","reportWebVitals.js","index.js"],"names":["Loading","Html","center","Rocket","scene","useLoader","GLTFLoader","StageOne","object","Plane","x","y","z","rot","opacity","emit","useTexture","Emit","position","rotation","args","attach","MeshWobbleMaterial","factor","Math","min","speed","side","THREE","transparent","map","Scene","setShowHeader","setShowFooter","setScrollProgress","planes","useState","yPosRocket","setYPosRocket","yPosPlane","setYPosPlane","rotRocket","setRotRocket","rotPlane","setRotPlane","degrees_to_radians","degrees","PI","useSpring","yPosRocketAnimated","yPosPlaneAnimated","rotRocketAnimated","rotPlaneAnimated","useEffect","rotations","percentageComplete","length","ROCKET_ROTATIONS","rotateElements","scrollAmount","newRot","nextMultiple","round","toScrollDirection","abs","scrollDirection","snapDistance","max","onScroll","evt","deltaY","pointerStartY","useRef","NaN","onPointerDown","pageY","onPointerUp","onPointerMove","isNaN","document","body","addEventListener","removeEventListener","intensity","group","fallback","data","index","x1","x2","isX","Number","factorX","factorZ","distance","JSON","stringify","Header","style","width","height","background","Footer","StaticFooter","className","ResizeController","camera","useThree","onResize","window","innerWidth","extend","EffectComposer","RenderPass","UnrealBloomPass","AnimatedCircularProgress","animated","CircularProgressbar","UnrealBloom","children","gl","size","setScene","composer","useFrame","current","render","ref","attachArray","undefined","App","showHeader","showFooter","scrollProgress","headerOpacity","headerTranslate","footerOpacity","footerTranslate","animatedScrollProgress","colorManagement","CameraShake","maxYaw","maxPitch","maxRoll","yawFrequency","pitchFrequency","rollFrequency","decay","value","strokeWidth","styles","buildStyles","pathTransitionDuration","pathColor","trailColor","strokeLinecap","div","top","bottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0b50cacc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Html } from '@react-three/drei';\r\n\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <Html center>\r\n      Loading...\r\n    </Html>\r\n  );\r\n}","export default __webpack_public_path__ + \"static/media/test.00f2bf5a.gltf\";","export default __webpack_public_path__ + \"static/media/stage-one-color.e4f1fe01.png\";","export default __webpack_public_path__ + \"static/media/stage-one-roughness.78ffa3bb.png\";","export default __webpack_public_path__ + \"static/media/stage-one-ao.a934163f.png\";","export default __webpack_public_path__ + \"static/media/stage-one-normal.56c2ad40.png\";","import React, { useRef, useState, useEffect, Suspense, useMemo } from 'react';\r\nimport { useSpring, animated } from '@react-spring/three';\r\nimport { Canvas, useFrame, useThree, extend, useLoader } from '@react-three/fiber';\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport * as THREE from \"three\";\r\n\r\nimport { useGLTF, useTexture } from '@react-three/drei'\r\n\r\n// import StageOne from '../assets/rocket/rocket.gltf';\r\nimport StageOne from '../assets/rocket/test.gltf';\r\n\r\nimport StageOneColor from '../assets/rocket/stage-one-color.png';\r\nimport StageOneMetalness from '../assets/rocket/stage-one-metalness.png';\r\nimport StageOneRoughness from '../assets/rocket/stage-one-roughness.png';\r\nimport StageOneAO from '../assets/rocket/stage-one-ao.png';\r\nimport StageOneNormal from '../assets/rocket/stage-one-normal.png';\r\n\r\n\r\n\r\nexport default function Rocket() {\r\n  // const { nodes } = useGLTF(StageOne)\r\n  // const color = useTexture(StageOneColor)\r\n\r\n  const { scene } = useLoader(GLTFLoader, StageOne)\r\n\r\n  return (\r\n    <primitive object={ scene } />\r\n  )\r\n\r\n  // return (\r\n  //   <mesh geometry={nodes.Cube.geometry} rotation={[0, 1, 0]}>\r\n  //     {/* <meshStandardMaterial \r\n  //       map={color}\r\n  //       metalnessMap={metalness} \r\n  //       roughnessMap={roughness} \r\n  //       normalMap={normal} \r\n  //       aoMap={ao}\r\n  //       map-flipY={false} /> */}\r\n  //       <meshPhongMaterial color=\"red\"/>\r\n  //   </mesh>\r\n  // )\r\n}","export default __webpack_public_path__ + \"static/media/emit.7e38ac4a.png\";","import React, { useRef, useState, useEffect, Suspense, useMemo } from 'react';\r\nimport { useSpring, animated } from '@react-spring/three';\r\n\r\nimport * as THREE from \"three\";\r\nimport { Canvas, useFrame, useThree, extend, useLoader } from '@react-three/fiber';\r\nimport { Line, Text, MeshWobbleMaterial } from '@react-three/drei';\r\n\r\nimport { useGLTF, useTexture } from '@react-three/drei'\r\n\r\nimport Emit from '../assets/planes/emit.png';\r\n\r\n\r\nexport default function Plane({x=0, y=0, z=0, rot=0, opacity=1}) {\r\n  const emit = useTexture(Emit)\r\n\r\n  return (\r\n    <mesh position={[x, y, z]} rotation={[0, rot, 0]}>\r\n      <planeBufferGeometry args={[3.5, 2]} attach=\"geometry\" />\r\n      <MeshWobbleMaterial attach=\"material\"\r\n        factor={Math.min(0.2, 1.25-opacity)} speed={3}\r\n        side={THREE.DoubleSide}\r\n        transparent={true}\r\n        opacity={opacity}\r\n        map={emit}\r\n      />\r\n    </mesh>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/ClarityCity-SemiBold.ee52c31a.woff\";","import React, { useRef, useState, useEffect, Suspense } from 'react';\r\nimport { useSpring, animated } from '@react-spring/three';\r\nimport { useFrame } from '@react-three/fiber';\r\n\r\nimport { Line, Text, MeshWobbleMaterial, Html } from '@react-three/drei';\r\nimport * as THREE from \"three\";\r\n\r\nimport Rocket from './Rocket';\r\nimport Plane from './Plane';\r\n\r\nimport HeaderFont from '../fonts/ClarityCity-SemiBold.woff';\r\n\r\n\r\nconst ORBIT_CONTROLS = false\r\n\r\n\r\nexport default function Scene({ setShowHeader, setShowFooter, setScrollProgress }) {\r\n\r\n  // const START_Y_ROCKET = -50 // amount the rocket is translated on y at the start\r\n  const START_Y_ROCKET = -16 // amount the rocket is translated on y at the start\r\n  const END_Y_ROCKET = -1 // final y position of the rocket\r\n  const START_Y_PLANE = 0 // amount the planes are translated on y at the start\r\n\r\n  const PLANE_VERT_DIST = -4 // vertical distance between the planes\r\n  const PLANE_HORIZ_DIST = 3.5 // horizontal distance between the planes and the center\r\n\r\n  const planes = [\r\n    null,\r\n    0,\r\n    1,\r\n    2,\r\n    3\r\n  ]\r\n\r\n\r\n  const [yPosRocket, setYPosRocket] = useState(START_Y_ROCKET)\r\n  const [yPosPlane, setYPosPlane] = useState(START_Y_PLANE)\r\n\r\n  const [rotRocket, setRotRocket] = useState(0)\r\n  const [rotPlane, setRotPlane] = useState(0)\r\n\r\n\r\n  const degrees_to_radians = (degrees) => {return degrees * (Math.PI/180)}\r\n  const mapRange = (value, x1, y1, x2, y2) => (value - x1) * (y2 - x2) / (y1 - x1) + x2;\r\n\r\n\r\n  const { yPosRocketAnimated, yPosPlaneAnimated, rotRocketAnimated, rotPlaneAnimated } = useSpring({\r\n    yPosRocketAnimated: [0, yPosRocket, 0],\r\n    yPosPlaneAnimated: [0, yPosPlane, 0],\r\n    rotRocketAnimated: [0, degrees_to_radians(rotRocket), 0],\r\n    rotPlaneAnimated: [0, degrees_to_radians(rotPlane), 0]\r\n  })\r\n\r\n\r\n  useEffect(() => {\r\n    const rotations = rotPlane / 90\r\n    const percentageComplete = rotations / planes.length\r\n\r\n    // set scroll progress indicator\r\n    setScrollProgress(percentageComplete*-1*100)\r\n\r\n    // show or hide header\r\n    if (percentageComplete < -0.05) {\r\n      setShowHeader(false)\r\n    } else {\r\n      setShowHeader(true)\r\n    }\r\n\r\n    // show or hide footer\r\n    if (percentageComplete < -0.96) {\r\n      setShowFooter(true)\r\n    } else {\r\n      setShowFooter(false)\r\n    }\r\n\r\n    // move plane to correct position\r\n    const newYPos = START_Y_PLANE + PLANE_VERT_DIST * rotations\r\n    setYPosPlane(newYPos)\r\n\r\n    // move rocket to correct position\r\n    const newRocketPos = START_Y_ROCKET + (START_Y_ROCKET-END_Y_ROCKET)*percentageComplete\r\n    setYPosRocket(newRocketPos)\r\n\r\n    // rotate rocket\r\n    const ROCKET_ROTATIONS = 6\r\n    setRotRocket(rot => {\r\n      const newRocketRot = ROCKET_ROTATIONS*90 * percentageComplete\r\n      return newRocketRot\r\n    })\r\n  }, [rotPlane])\r\n\r\n\r\n  const rotateElements = (scrollAmount) => {\r\n    if (ORBIT_CONTROLS) return\r\n\r\n    setRotPlane(rot => {\r\n      let newRot = rot - scrollAmount\r\n\r\n      // if close to multiple of 90 and scrolling in right direction\r\n      const nextMultiple = 90*Math.round(newRot/90)\r\n      if (scrollAmount !== 0 && nextMultiple-rot !== 0) {\r\n        const toScrollDirection = (nextMultiple - rot) / Math.abs(nextMultiple - rot)\r\n        const scrollDirection = scrollAmount / Math.abs(scrollAmount) * -1\r\n        const snapDistance = Math.abs(Math.abs(nextMultiple) - Math.abs(rot))\r\n\r\n        // if scrolled far enough\r\n        if (Math.abs(scrollAmount) > 9 && toScrollDirection === scrollDirection && snapDistance <= 18) {\r\n          newRot = nextMultiple\r\n        }\r\n      }\r\n\r\n      return Math.max(-planes.length*90, Math.min(0, newRot))\r\n    })\r\n  }\r\n\r\n\r\n  // SCROLL ON DESKTOP\r\n  const onScroll = (evt) => {\r\n    // limit scroll amount to 18 to add up to 90°\r\n    if (evt.deltaY) {\r\n      const scrollAmount = Math.min(18, Math.abs(evt.deltaY)) * evt.deltaY/Math.abs(evt.deltaY)\r\n  \r\n      const moveAmount = 0\r\n  \r\n      rotateElements(scrollAmount, moveAmount)\r\n    }\r\n  }\r\n\r\n\r\n  // SCROLL ON MOBILE\r\n  let pointerStartY = useRef(NaN)\r\n  const onPointerDown = (evt) => pointerStartY = evt.pageY\r\n  const onPointerUp = () => pointerStartY = NaN\r\n\r\n  const onPointerMove = (evt) => {\r\n    if (!isNaN(pointerStartY) && (pointerStartY - evt.pageY !== 0)) {\r\n      const MOBILE_SCROLL_SPEED = 0.5\r\n      rotateElements((pointerStartY - evt.pageY) * MOBILE_SCROLL_SPEED)\r\n      pointerStartY = evt.pageY\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    document.body.addEventListener(\"wheel\", onScroll)\r\n    document.body.addEventListener(\"pointerdown\", onPointerDown)\r\n    document.body.addEventListener(\"pointerup\", onPointerUp)\r\n    document.body.addEventListener(\"pointermove\", onPointerMove)\r\n\r\n    return () => {\r\n      document.body.removeEventListener(\"wheel\", onScroll)\r\n      document.body.removeEventListener(\"pointerdown\", onPointerDown)\r\n      document.body.removeEventListener(\"pointerup\", onPointerUp)\r\n      document.body.removeEventListener(\"pointermove\", onPointerMove)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <ambientLight intensity={0.7}/>\r\n      <directionalLight position={[10, 10, 5]} intensity={2} />\r\n      <directionalLight position={[-10, -10, -5]} intensity={1} />\r\n\r\n      {/* <group>\r\n        <Text font={HeaderFont}  fontSize={2}>Welcome</Text>\r\n      </group> */}\r\n\r\n      <animated.group position={yPosRocketAnimated} rotation={rotRocketAnimated}>\r\n        <Rocket />\r\n      </animated.group>\r\n\r\n      <Suspense fallback={null}>\r\n        <animated.group position={yPosPlaneAnimated} rotation={rotPlaneAnimated}>\r\n          {planes.map((data, index) => {\r\n            if (data === null) return null\r\n\r\n            const isX = 1 - Number(index % 2 === 0)\r\n            const factorX = (Number((index+1) % 4 === 0) * 2 - 1) * isX * -1\r\n            const factorZ = (Number(index % 4 === 0) * 2 - 1) * (1-isX)\r\n\r\n            const rotations = rotPlane*-1 / 90\r\n            const distance = Math.min(1.1, Math.abs(rotations - index))\r\n            const opacity = mapRange(1.1 - distance, 0, 1.1, 0, 1.25)\r\n\r\n            return <Plane key={JSON.stringify(data)}\r\n              x={PLANE_HORIZ_DIST * factorX}\r\n              y={PLANE_VERT_DIST * index}\r\n              z={PLANE_HORIZ_DIST * factorZ}\r\n              rot={Math.PI/2 * index}\r\n              opacity={opacity}\r\n            />\r\n          })}\r\n        </animated.group>\r\n      </Suspense>\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\n\r\n\r\nexport default function Header() {\r\n  return (\r\n    <>\r\n      <p>Title</p>\r\n      <div style={{width:\"100px\", height:\"200px\", background:\"white\"}}></div>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\n\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <>\r\n      <div style={{width:\"100px\", height:\"200px\", background:\"white\"}}></div>\r\n      <p>Footer</p>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\n\r\n\r\nexport default function StaticFooter() {\r\n  return (\r\n    <div className=\"staticFooterContainer\">\r\n      <p>Footer</p>\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from \"react\";\r\n\r\nimport { useThree } from '@react-three/fiber';\r\n\r\n\r\nexport default function ResizeController() {\r\n\r\n    const { camera } = useThree()\r\n\r\n    const onResize = () => {\r\n        if (window.innerWidth < 500) {\r\n        camera.position.z = 8\r\n        }\r\n        else if (window.innerWidth < 700) {\r\n        camera.position.z = 6\r\n        }\r\n        else if (window.innerWidth < 1000) {\r\n        camera.position.z = 5\r\n        }\r\n        else if (window.innerWidth >= 1000) {\r\n        camera.position.z = 6\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", onResize)\r\n        onResize()\r\n\r\n        return () => {\r\n        window.removeEventListener(\"resize\", onResize)\r\n        }\r\n    }, [])\r\n\r\n    return <></>\r\n}","import React, { useRef, useState, useEffect, Suspense, useMemo } from 'react';\nimport { useSpring, animated } from 'react-spring';\n\nimport * as THREE from \"three\";\nimport { Canvas, useFrame, useThree, extend, useLoader } from '@react-three/fiber';\nimport { OrbitControls, CameraShake, useProgress, Html, MeshDistortMaterial, Sky, Effects } from '@react-three/drei';\nimport { DepthOfField, Noise, Bloom, Vignette, ChromaticAberration } from \"@react-three/postprocessing\"\n\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\n\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\n\nimport './App.css';\n\nimport Loading from './components/LoadingScreen';\nimport Scene from './components/Scene';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport StaticFooter from './components/StaticFooter';\nimport ResizeController from './components/ResizeController';\n\nextend({ EffectComposer, RenderPass, UnrealBloomPass });\n\n\nconst ORBIT_CONTROLS = false\n\n\nconst AnimatedCircularProgress = animated(CircularProgressbar);\n\n\nfunction UnrealBloom({ children }) {\n  const { gl, camera, size } = useThree()\n  const [scene, setScene] = useState()\n  const composer = useRef()\n  useEffect(() => void scene && composer.current.setSize(size.width, size.height), [size])\n  useFrame(() => scene && composer.current.render(), 1)\n  return (\n    <>\n      <scene ref={setScene}>{children}</scene>\n      <effectComposer ref={composer} args={[gl]}>\n        <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n        <unrealBloomPass attachArray=\"passes\" args={[undefined, 1, 1.3, 0.4]} />\n      </effectComposer>\n    </>\n  )\n}\n\n\nexport default function App() {\n\n  const [showHeader, setShowHeader] = useState(true)\n  const [showFooter, setShowFooter] = useState(false)\n\n  const [scrollProgress, setScrollProgress] = useState(0)\n\n  const { headerOpacity, headerTranslate, footerOpacity, footerTranslate, animatedScrollProgress } = useSpring({\n    headerOpacity: showHeader ? 1 : 0,\n    headerTranslate: showHeader ? 0 : -100,\n    footerOpacity: showFooter ? 1 : 0,\n    footerTranslate: showFooter ? 0 : -100,\n    animatedScrollProgress: scrollProgress\n  })\n\n\n  const shakeConfig = {\n    maxYaw: 0.008, // Max amount camera can yaw in either direction\n    maxPitch: 0.008, // Max amount camera can pitch in either direction\n    maxRoll: 0.008, // Max amount camera can roll in either direction\n    yawFrequency: 0.5, // Frequency of the the yaw rotation\n    pitchFrequency: 0.5, // Frequency of the pitch rotation\n    rollFrequency: 0.5, // Frequency of the roll rotation\n    intensity: 1, // initial intensity of the shake\n    decay: false, // should the intensity decay over time\n  }\n\n\n  return (\n    <div className=\"App\">\n      <Canvas colorManagement camera={{position:[0, 0, 0]}}>\n        {ORBIT_CONTROLS && <OrbitControls/>}\n        <ResizeController />\n\n        <Suspense fallback={<Loading/>}>\n          <UnrealBloom>\n            <Scene setShowHeader={setShowHeader} setShowFooter={setShowFooter} setScrollProgress={setScrollProgress} />\n          </UnrealBloom>\n          <CameraShake {...shakeConfig} />\n        </Suspense>\n\n        {/* <EffectComposer> */}\n          {/* <DepthOfField focusDistance={0} focalLength={0.03} bokehScale={2} height={480} /> */}\n          {/* <Bloom luminanceThreshold={0.8} luminanceSmoothing={0.5} height={500} opacity={1.5} /> */}\n          {/* <ChromaticAberration offset={[0.0002, 0.0]}/> */}\n          {/* <Vignette eskil={false} offset={0.4} darkness={0.7} /> */}\n        {/* </EffectComposer> */}\n        \n      </Canvas>\n\n      {/* <div className=\"progressContainer\">\n        <animated.div className=\"progress\" style={{height:animatedScrollProgress}}></animated.div>\n      </div> */}\n\n      <div className=\"progressContainer\">\n        <AnimatedCircularProgress value={animatedScrollProgress} strokeWidth={10} styles={buildStyles({\n          pathTransitionDuration: 0.1,\n          pathColor: `white`,\n          trailColor: 'transparent',\n          strokeLinecap: 'butt',\n        })} />\n      </div>\n      \n      <animated.div style={{opacity:headerOpacity, top:headerTranslate}} className=\"headerContainer\">\n        <Header/>\n      </animated.div>\n\n      <animated.div style={{opacity:footerOpacity, bottom:footerTranslate}} className=\"footerContainer\">\n        <Footer/>\n      </animated.div>\n\n      <StaticFooter/>\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}